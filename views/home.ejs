<%- include('partials/header') %>
  <main class="max-w-4xl mx-auto px-4 py-20 text-center">
    <i class="fas fa-key text-6xl text-slate-600 mb-6"></i>
    <h1 class="text-4xl font-semibold text-slate-800 mb-2">Secrets</h1>
    <p class="text-slate-600 mb-6">Don't keep your secrets, share them anonymously.</p>
  
    <div class="flex justify-center gap-3">
      <% if (user) { %>
        <a href="/secrets" class="px-4 py-2 rounded-md border border-gray-200 text-slate-700 bg-white hover:bg-gray-50 transition">View my secrets</a>
      <% } else { %>
        <a href="/register" class="px-4 py-2 rounded-md border border-gray-200 text-slate-700 bg-white hover:bg-gray-50 transition">Register</a>
        <a href="/login" class="px-4 py-2 rounded-md bg-slate-700 text-white hover:bg-slate-800 transition">Login</a>
      <% } %>
    </div>
  </main>

  <main class="max-w-6xl mx-auto px-4 pb-12">
    <% if (typeof secrets !== 'undefined' && Array.isArray(secrets) && secrets.length > 0) { %>
      <h2 class="text-2xl font-semibold text-slate-800 mb-6 text-center">Latest Secrets</h2>
      <div class="grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3">
        <% secrets.forEach(function(s) { %>
          <div class="bg-white border border-gray-100 rounded-lg p-4 shadow-sm">
            <p class="text-slate-700 text-sm break-words"><%= s.secret %></p>
          </div>
        <% }); %>
      </div>
      <div class="mt-8 text-center">
        <a href="/submit" class="inline-block px-4 py-2 rounded-md bg-slate-700 text-white hover:bg-slate-800 transition">Submit your secret</a>
      </div>
    <% } else { %>
      <div class="text-center py-20">
        <i class="fas fa-key text-6xl text-slate-600 mb-6"></i>
        <h1 class="text-4xl font-semibold text-slate-800 mb-2">Secrets</h1>
        <p class="text-slate-600 mb-6">Don't keep your secrets, share them anonymously.</p>
        <div class="flex justify-center gap-3">
          <% if (user) { %>
            <a href="/secrets" class="px-4 py-2 rounded-md border border-gray-200 text-slate-700 bg-white hover:bg-gray-50 transition">View my secrets</a>
          <% } else { %>
            <a href="/register" class="px-4 py-2 rounded-md border border-gray-200 text-slate-700 bg-white hover:bg-gray-50 transition">Register</a>
            <a href="/login" class="px-4 py-2 rounded-md bg-slate-700 text-white hover:bg-slate-800 transition">Login</a>
          <% } %>
        </div>
      </div>
    <% } %>
  </main>

<%- include('partials/footer') %>
